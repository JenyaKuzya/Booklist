unit Add;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls;

type
  TFAdd = class(TForm)
    EAuthor: TEdit;
    EName: TEdit;
    EYear: TEdit;
    BComplete: TButton;
    BCancel: TButton;
    Label1: TLabel;
    Label2: TLabel;
    Label3: TLabel;
    procedure BCancelClick(Sender: TObject);
    procedure BCompleteClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FAdd: TFAdd;

implementation

{$R *.dfm}

uses Records, Lib;

type
  bk = ^TBook;
  TBook = record
    Author, NameOfBook: string[255];
    Year: Integer;
    next: bk;
  end;

procedure TFAdd.BCancelClick(Sender: TObject);
begin
  Close
end;

procedure TFAdd.BCompleteClick(Sender: TObject);
begin
  if (EAuthor.Text <> '') and (EName.Text <> '') and (EYear.Text <> '') then
  begin
    Addrecord(f, first, EAuthor.Text, EName.Text, StrToInt(EYear.Text));
    showdata(first, FRecord.StringGrid1);
    Close;
  end
  else
    ShowMessage('Заполните все поля');
end;

end.
